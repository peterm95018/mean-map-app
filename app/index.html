<!DOCTYPE html>
<html>
<head>
	<title>MEAN Map App</title>

  <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="bower_components/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="bower_components/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="bower_components/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="bower_components/Leaflet.awesome-markers/dist/leaflet.awesome-markers.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">


    <style>
        body {
            padding: 0;
            margin: 0;
        }
        html, body, .map-container-fluid, .map-row, .col-md-12 {
            height: 100%;
            width: 100%;
        }
		#map {
			width: auto;
			height: 100%;
			padding-top: 50px;
		}
    </style>

<link rel="stylesheet" type="text/css" href="./styles/layout-mobile.css" media="all">
<link rel="stylesheet" type="text/css" href="./styles/layout-desktop.css" media="all and (min-width: 800px)">
</head>


<body ng-app="meanMapApp">
    <!--[if lte IE 8]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!-- Add your site or application content here -->


<div id="page">
<!-- Bootstrap navbar -->
<div id="header-bar">
<nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button id="menu-toggle" type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar-menu" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Menu</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#/">UC Santa Cruz</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse ">
          <!-- <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#">Link</a></li>
            <li class="hidden-xs"><a href="#" data-toggle="collapse" data-target=".navbar-collapse.in" id="list-btn"><i class="fa fa-list white"></i>&nbsp;&nbsp;POI List</a></li>
          </ul> -->
        </div>
         <!--/.nav-collapse -->
      </div>
</nav>
</div><!-- ./header-bar -->



<div id="sidebar-menu">
      <div id="sidebar-menu-content">
        <!-- <a href="#" id="close-menu"><i class="fa fa-times-circle"></i></a> -->

        <div id="destinations" class="sidebar-section">
          <!-- <h2>Destinations</h2> -->
            <a href="#" id="select-location" class="map-button">Select a Location</a>
            <div id="destinations-list">
              <ul>
                <li><a href="UCTR">914 Broadway</a></li>
                <li><a href="TB19">924 Broadway</a></li>
                <li><a href="TB97">Academic Advising Center: Students in Transition</a></li>
                <li><a href="ADEN">Aden Hall</a></li>
                <li><a href="ARCE">Administrative and Research Center</a></li>
                <li><a href="ANDS">Andrews Hall</a></li>
                <li><a href="ARMR">Armory</a></li>
                <li><a href="ARNT">Arnett Hall</a></li>
                <li><a href="IBS1">Arts and Sciences Finance and Payroll Administration</a></li>
                <li><a href="OB1">Arts and Sciences Office Building 1</a></li>
                <li><a href="ATCT">Athens Court</a></li>
                <li><a href="ATHN">Athens North Court</a></li>
                <li><a href="W-AP">Athletics Practice Field</a></li>
                <li><a href="BKER">Baker Hall</a></li>
                <li><a href="FH">Balch Fieldhouse</a></li>
                <li><a href="BCAP">Bear Creek Apartments at Williams Village</a></li>
              </ul>
            </div>
        </div>


        <div id="academics" class="sidebar-section">
          <h2><a href="#academics-list" class="section-toggle toggle-show">Academics</a></h2>

          <!-- <div id="academics" class="sidebar-section"> -->
          	<ul>
          		<li><a href="#"><i class="fa fa-users fa-fw"></i> Classrooms</a></li>
          		<li><a href="#"><i class="fa fa-graduation-cap fa-fw"></i> Colleges</a></li>
          		<li><a href="#"><i class="fa fa-pencil-square-o fa-fw"></i> Departments</a></li>
          		<li><a href="#"><i class="fa fa-cutlery fa-fw"></i> Dining/Food</a></li>
          		<li><a href="#"><i class="fa fa-book fa-fw"></i> Libraries</a></li>
          	</ul>
          <!-- </div> -->
        </div>

        <div id="parking" class="sidebar-section">
        	<h2><a href="#parking-list" class="section-toggle">Parking</h2>
				<ul>
					<li><a href="#/parking">parking test</a></li>
					<li><a href="#">parking 2</a></li>
					<li><a href="#">parking 3</a></li>
					<li><a href="#">parking 4</a></li>
				</ul>
        </div>

        <div id="places" class="sidebar-section">
        	<h2><a href="#places-list" class="section-toggle">Places</h2>
			<div id="places-list">
				<ul>
					<li><a href="#/filter">filter test</a></li>
					<li><a href="#/filtercluster">filtercluster test</a></li>
					<li><a href="#markertest">marker test</a></li>
					<li><a href="#">places 4</a></li>
				</ul>
			</div>
        </div>

        <div id="printable-maps" class="sidebar-section">
        	<h2><a href="#printable-maps" class="section-toggle">Printable Maps</h2>
			<div id="printable-maps-list">
				<ul>
					<li><a href="#">printable-maps 1</a></li>
					<li><a href="#">printable-maps 2</a></li>
					<li><a href="#">printable-maps 3</a></li>
					<li><a href="#">printable-maps 4</a></li>
				</ul>
			</div>
        </div>

<!--         <div id="directions" class="sidebar-section">
        	<h2><a href="#directions" class="section-toggle">Directions</h2>
			<div id="directions-list">
				<ul>
					<li><a href="#"><i class="fa fa-arrows fa-fw"></i> directions-list 1</a></li>
					<li><a href="#">directions-list 2</a></li>
					<li><a href="#">directions-list 3</a></li>
					<li><a href="#">directions-list 4</a></li>
				</ul>
				<ul>
					<li><a href="#">walking directions 1</a></li>
					<li><a href="#">walking 2</a></li>
					<li><a href="#">walking 3</a></li>
				</ul>
			</div>
        </div> -->


        <div id="links">
          <ul>
            <li><a href="#/directions"><i class="fa fa-arrows fa-fw"></i> Directions to Campus</a></li>
            <li><a href="#" data-target="#myModal" data-toggle="modal">
			
            <i class="fa fa-code fa-fw"></i> Embed this Map</a></li>
            <li><a href="about/new-map"><i class="fa fa-question-circle fa-fw"></i> About the Map</a></li>
            <li><a href="lib/map.pdf"><i class="fa fa-print fa-fw"></i> Printable Map (pdf)</a></li>
            <li><a href="about/feedback"><i class="fa fa-thumbs-up fa-fw"></i> Feedback</a></li>
          </ul>
        </div>

        <div id="footer">
          <p>&copy; Regents of the University of California<br>
        <a href="http://its.ucsc.edu/terms">Privacy Policy &amp; Terms of Use</a></p>
        <p class="osm-copyright">Powered by <a href="http://leafletjs.com">Leaflet</a> contributors - Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a></p>
        </div>
      </div><!-- ./sidebar-menu-content -->
      <div id="sidebar-button"></div> <!-- still not sure if this is relevant. -->
    </div><!-- ./sidebar-menu -->



	<div ng-view=""></div>

    <!-- <div id="map"></div> -->

<!-- embed is a bootstrap modal dialog -->
    <div id="embed">
      <h2>Embed Map</h2>
      <p>Copy and paste the code below to embed this map on your own site:</p>
      <input type="text" id="embed-code" /> <a href="#" id="close-embed"><i class="fa fa-times-circle"></i></a>
    </div>
    </div>


<!-- Button trigger modal -->
<!-- <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  Launch demo modal
</button> -->

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Embed this Map</h4>
      </div>
      <div class="modal-body">
        <p>Copy and paste the URL below to embed this map into your own site.</p>
        <i class="fa fa-clipboard" aria-hidden="true"></i>
        <input type="text" size="60" id="embed-code" value="the url is here" /> 
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Copy URL</button>
      </div>
    </div>
  </div>
</div>


<!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
 <script>
   !function(A,n,g,u,l,a,r){A.GoogleAnalyticsObject=l,A[l]=A[l]||function(){
   (A[l].q=A[l].q||[]).push(arguments)},A[l].l=+new Date,a=n.createElement(g),
   r=n.getElementsByTagName(g)[0],a.src=u,r.parentNode.insertBefore(a,r)
   }(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

   ga('create', 'UA-XXXXX-X');
   ga('send', 'pageview');
</script>

<!-- build:js(.) scripts/vendor.js -->
<!-- bower:js -->
<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
<script src="bower_components/angular-animate/angular-animate.js"></script>
<script src="bower_components/angular-aria/angular-aria.js"></script>
<script src="bower_components/angular-cookies/angular-cookies.js"></script>
<script src="bower_components/angular-messages/angular-messages.js"></script>
<script src="bower_components/angular-resource/angular-resource.js"></script>
<script src="bower_components/angular-route/angular-route.js"></script>
<script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
<script src="bower_components/angular-touch/angular-touch.js"></script>
<script src="bower_components/angular-simple-logger/dist/angular-simple-logger.js"></script>
<script src="bower_components/leaflet/dist/leaflet-src.js"></script>
<script src="bower_components/ui-leaflet/dist/ui-leaflet.js"></script>
<script src="bower_components/leaflet.markercluster/dist/leaflet.markercluster-src.js"></script>
<script src="bower_components/Leaflet.awesome-markers/dist/leaflet.awesome-markers.js"></script>
<!-- endbower -->
<!-- endbuild -->





<!-- build:js({.tmp,app}) scripts/scripts.js -->
<script src="scripts/app.js"></script>
<script src="scripts/controllers/main.js"></script>
<script src="scripts/controllers/about.js"></script>
<script src="scripts/controllers/academic.js"></script>
<script src="scripts/controllers/parking.js"></script>
<script src="scripts/controllers/filter.js"></script>
<script src="scripts/controllers/filtercluster.js"></script>
<script src="scripts/controllers/markertest.js"></script>
<!-- endbuild -->
<script>
// $(document).ready(function(){
// // load the map
// $.getScript('./js/load-map.js');
// });

// Set up sidebar
// $('#sidebar-button, #menu-toggle').click(function(){
//   if($('#sidebar-menu').css('display') == 'block'){
//     $('#sidebar-menu, #destinations-list').fadeOut();
//     $('#sidebar-button').css('background-image', 'url(lib/css/img/right-arrow.png)');
//   }
//   else{
//     $('#sidebar-menu').fadeIn();
//     $('#sidebar-button').css('background-image', 'url(lib/css/img/left-arrow.png)');
//   }  
//   return false;
// });

// toggle destination list
// $('#select-location').click(function() {
//   if ($('#select-location').is(':visible').length) {
//     $('#destinations-list').hide("slide", {direction: "down"}, 1000);
//     } else {
//     $('#destinations-list').show("slide", {direction: "up"}, 1000);
//     }
// });


$('#select-location').click(function() {
  if ($('#destinations-list').is(':visible')) {
    $('#destinations-list').hide(); 
    } else {
    $('#destinations-list').show();
    }
});

$('#menu-toggle').click(function() {
	if ($('#sidebar-menu').is(':hidden')) {
		$('#sidebar-menu').fadeIn();
	} 
});

function openModal() {
	$('#myModal').modal();
}


$(document).ready(function(){
  $('#ov-control-buildings').attr('disabled', 'disabled');

  var state;

  $('a.section-toggle').on('click', function() {
    var showthis = $(this).attr("href");
    $(this).toggleClass('toggle-show');
    $(this).toggleClass('toggle-hide');
    state = !state; 
    if (state) {
      $(showthis).slideDown();
      
      return false;
    } else {
      $(showthis).slideUp();
      
      return false;
    }
  });




//   $("a#embed-link").click(function() {
//     var mapURL = document.URL + '?embed=true';
//     var embedCode = '<iframe src="' + mapURL + '" width="600" height="400" scrolling="no" frameborder="0" style="border:0;"></iframe>';
//     $("#embed-code").val(embedCode);
//     $("#embed").fadeIn();
//     return false;
//   });
//   $("a#close-embed").click(function() {
//     $("#embed").fadeOut();
//     return false;
//   });
//   $("a#select-location").click(function(){
//     $('#destinations-list').fadeIn();
//     return false;
//   });
//   $('html').click(function() {
//     $('#destinations-list, #embed').fadeOut();
//     if(window.innerWidth < 800){
//       $('#sidebar-menu').fadeOut();
//     }
//   });
  
//   $('#destinations-list, #embed, #sidebar-menu').click(function(event){
//       event.stopPropagation();
//   });
// });


// $(function(){
//   // bind change event to select
//   $('#destinations-list a').on('click', function () {
//       var url = $(this).attr('href'); // get selected value
//       if (url) { // require a URL
//           //window.location = url; // redirect
//           if(window.innerWidth < 800){
//             $('#sidebar-menu').fadeOut();
//           }
//           //$("a#select-location").click();
//           //alert(url);
//           $('input#search-form-input').val(url);
//           $('.leaflet-control-geocoder-form button').click();
//       }
//       return false;
//   });
 });

// psm below
// Section 2
$(function() {
    $('#section-2 h2').click(function() {
    	if ($('#section-2-list').is(':visible')) {
       	 	$(this).find('i').toggleClass('fa-plus-circle fa-minus-circle');
        	$('#section-2-list').fadeOut();
       	 } else {
     		$('#section-2-list').fadeIn();
    		$(this).find('i').toggleClass('fa-minus-circle fa-plus-circle');		
			}
		});
    return false;
});


// Section 3
$(function() {
    $('#section-3 h2').click(function() {
    	if ($('#section-3-list').is(':visible')) {
       	 	$(this).find('i').toggleClass('fa-plus-circle fa-minus-circle');
        	$('#section-3-list').fadeOut();
       	 } else {
     		$('#section-3-list').fadeIn();
    		$(this).find('i').toggleClass('fa-minus-circle fa-plus-circle');		
			}
		});
    return false;
});

// Section 4
$(function() {
    $('#section-4 h2').click(function() {
    	if ($('#section-4-list').is(':visible')) {
       	 	$(this).find('i').toggleClass('fa-plus-circle fa-minus-circle');
        	$('#section-4-list').fadeOut();
       	 } else {
     		$('#section-4-list').fadeIn();
    		$(this).find('i').toggleClass('fa-minus-circle fa-plus-circle');		
			}
		});
    return false;
});

</script>

<script>
var map = L.map('map', {
zoomControl: false,
center: [-41.2858, 174.78682],
zoom: 14
});

mapLink = 
'<a href="http://openstreetmap.org">OpenStreetMap</a>';
L.tileLayer(
'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
attribution: '&copy; ' + mapLink + ' Contributors',
maxZoom: 18,
}).addTo(map);
new L.Control.Zoom({ position: 'bottomright'}).addTo(map);
</script>
</div>


</body>
</html>